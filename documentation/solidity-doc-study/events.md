# Events

- Allows usage of EVM loggins which can be used to 'call' javascript callbacks
- Inheritable members of contracts
- When called they cause the arguments to be stored in log in the blockchain
- Logs are associated w the address of contract and be stored with that block
- May change with Serenity
- Log and event data is not accessible from within contracts at all


- Up to 3 params can receive the attribute ```indexed``` which causes the argument to be search for 
- If array used as ```indexed```, keccak256 hash of it is stored as a topic instead
- The hash of the signature of the event is on of the topics. Except when declared with ```anonymous`` spec (not possible to filter for specific anonymous events by name)
- All non-indexed arguments will be stored in the data part of the log

```

pragma solidity ^0.4.19;

contract ClientReceipt {
    event Deposit (address indexed _from, bytes32 indexed _id, uint _value);

    function deposit (bytes32 _id) payable {
        //any call and neste call can be detected

        Deposit(msg.sender, _id, msg.value);
    }
}

```

And the associated JS API ingestion of the event looks like this:

```

var abi = /* abi as generated by the compiler */;
var ClientReceipt = web3.eth.contract(abi);
var clientReceipt = ClientReceipt.at("0x1234...ab67" /* address */);

var event = clientReceipt.Deposit();

// watch for changes
event.watch(function(error, result){
    // result will contain various information
    // including the argumets given to the Deposit
    // call.
    if (!error)
    console.log(result);
});

// Or pass a callback to start watching immediately
var event = clientReceipt.Deposit(function(error, result) {
    if (!error)
    console.log(result);
});

```